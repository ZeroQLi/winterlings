---
import '../../styles/hc.css';
import Nav from '../../components/nav.astro'
import Footer from '../../components/footer.astro'
import "@fontsource/space-grotesk"

let arr = []

const projects = await Astro.glob('../../project/*.md')

projects.forEach(item => {
  arr.push(item.file.slice(42).slice(0,-3))
})

export async function getStaticPaths() {
  const projects = await Astro.glob('../../project/*.md')

  return projects.map((post) => ({
    params: { 
      slug: post.file.slice(42).slice(0,-3)
    },
    props: {
      post
    }
  }))
}

const { Content, frontmatter, file } = Astro.props.post


let page = file.slice(42).slice(0,-3)
let right = arr[arr.indexOf(page)+1]
let left = arr[arr.indexOf(page)-1]

---
<head>
  <meta charset="utf-8" />
	<link rel="icon" type="image/svg+xml" href="/winter.svg" />
	<meta name="viewport" content="width=device-width" />
</head>
<Nav right={right} left={left} page={page}/>
<article class=" prose max-w-none prose-xl m-5 prose-h1:pt-5">
    <Content />
</article>
<Footer/>
